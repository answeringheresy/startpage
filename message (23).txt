<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Answering Heresies</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: #f8f9fa;
            color: #333;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 250px;
            background-color: #156227;
            color: white;
            padding: 0;
            box-shadow: 2px 0 5px rgba(0,0,0,0.1);
            overflow-y: auto;
            height: 100vh;
            position: relative;
        }

        .sidebar h2 {
            text-align: center;
            margin: 0;
            padding: 20px;
            font-size: 24px;
            position: sticky;
            top: 0;
            background-color: #156227;
            z-index: 10;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        /* Custom Scrollbar for Sidebar */
        .sidebar::-webkit-scrollbar {
            width: 8px;
        }

        .sidebar::-webkit-scrollbar-track {
            background: #1e7e34;
        }

        .sidebar::-webkit-scrollbar-thumb {
            background: #ffffff;
            border-radius: 4px;
        }

        .sidebar::-webkit-scrollbar-thumb:hover {
            background: #f8f9fa;
        }

        #nav-menu {
            padding-bottom: 20px;
        }

        .nav-item {
            padding: 15px 20px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            border-left: 4px solid transparent;
        }

        .nav-item:hover {
            background-color: #218838;
            border-left-color: white;
        }

        .nav-item.active {
            background-color: #1e7e34;
            border-left-color: white;
        }

        .sub-menu {
            display: none;
            background-color: rgba(0,0,0,0.1);
            border-left: 3px solid #ffffff;
            margin-left: 10px;
        }

        .sub-menu.show {
            display: block;
        }

        .sub-nav-item {
            padding: 12px 20px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            font-size: 14px;
        }

        .sub-nav-item:hover {
            background-color: rgba(255,255,255,0.1);
        }

        .sub-nav-item.active {
            background-color: rgba(255,255,255,0.15);
            font-weight: bold;
        }

        .nav-arrow {
            float: right;
            transition: transform 0.3s ease;
        }

        .nav-arrow.expanded {
            transform: rotate(90deg);
        }

        /* Main Content Styles */
        .main-content {
            flex: 1;
            padding: 40px;
            background-color: white;
            margin: 20px 20px 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .welcome-section {
            text-align: center;
            padding: 60px 20px;
        }

        .welcome-section h1 {
            color: #28a745;
            font-size: 36px;
            margin-bottom: 20px;
        }

        .welcome-section p {
            font-size: 18px;
            color: #666;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
        }

        .content-section h2 {
            color: #28a745;
            font-size: 28px;
            margin-bottom: 20px;
            border-bottom: 2px solid #28a745;
            padding-bottom: 10px;
        }

        .content-section p {
            font-size: 16px;
            line-height: 1.8;
            color: #555;
            margin-bottom: 15px;
        }

        .introduction {
            font-size: 18px;
            color: #444;
            margin-bottom: 30px;
            padding: 20px;
            background-color: #f8f9fa;
            border-left: 4px solid #28a745;
            border-radius: 4px;
        }

        .sources-container {
            margin-top: 20px;
        }

        .source-item {
            margin-bottom: 25px;
            padding: 20px;
            background-color: #ffffff;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .source-title {
            font-weight: bold;
            color: #28a745;
            font-size: 16px;
            margin-bottom: 10px;
            padding-bottom: 5px;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        
        .source-title.bible {
            color: #ffd700;
        }

        .source-title.bibleot {
            color: #ff8800 
        }

        .source-icon {
            font-size: 18px;
            min-width: 20px;
        }

        .source-icon.quran {
            color: #28a745;
        }

        .source-icon.hadith {
            color: #dc3545;
        }

        .source-icon.other {
            color: #6c757d;
        }

        .source-icon.image {
            color: #007bff;
        }

        .grading {
            font-size: 14px;
            color: #6c757d;
            font-weight: normal;
            margin-top: 5px;
            font-style: italic;
        }

        /* Image Source Styles */
        .image-container {
            margin-top: 15px;
            text-align: center;
        }

        .source-image {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 1px solid #e9ecef;
        }

        /* Image size variants */
        .source-image.small {
            max-width: 200px;
        }

        .source-image.medium {
            max-width: 400px;
        }

        .source-image.large {
            max-width: 600px;
        }

        .source-image.full {
            max-width: 100%;
        }

        .image-caption {
            font-size: 14px;
            color: #6c757d;
            margin-top: 10px;
            font-style: italic;
        }

        .source-text {
            font-size: 15px;
            line-height: 1.7;
            color: #555;
            font-style: italic;
        }

        /* Commentary Styles */
        .commentary {
            font-size: 16px;
            color: #444;
            margin: 25px 0;
            padding: 20px;
            background-color: #f8f9fa;
            border-left: 4px solid #17a2b8;
            border-radius: 4px;
            line-height: 1.7;
        }

        /* Social Links Styles */
        .social-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 16px;
            margin-top: 10px;
        }
        .social-card {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 16px;
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            text-decoration: none;
            color: inherit;
            transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
        }
        .social-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            background: #ffffff;
        }
        .social-card .social-icon {
            width: 40px;
            height: 40px;
            display: inline-block;
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        }
        .social-card .social-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        .social-card .social-label { font-weight: 600; }
        .social-card.discord .social-label { font-size: 18px; }
        .social-card.featured { grid-column: span 2; }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                order: 2;
            }
            
            .main-content {
                margin: 10px 10px 10px 10px;
                padding: 20px;
                order: 1;
            }
            .social-card.featured { grid-column: auto; }
        }

        /* Comments Styles */
        .comments-section { margin-top: 30px; padding-top: 20px; border-top: 2px solid #e9ecef; }
        .comments-title { font-size: 22px; color: #28a745; margin-bottom: 12px; }
        .comment-item { padding: 12px 14px; border: 1px solid #e9ecef; border-radius: 8px; background: #fafafa; margin-bottom: 10px; }
        .comment-header { display:flex; justify-content: space-between; align-items:center; margin-bottom: 6px; }
        .comment-author { font-weight: 600; color: #333; }
        .comment-date { font-size: 12px; color: #888; }
        .comment-text { color:#444; line-height:1.6; white-space: pre-wrap; }
        .comment-form { display:flex; flex-direction: column; gap: 8px; margin-top: 12px; }
        .comment-input, .comment-name { padding:10px; border:1px solid #ced4da; border-radius:6px; width:100%; }
        .comment-submit { align-self:flex-start; background:#28a745; color:white; border:none; padding:10px 14px; border-radius:6px; cursor:pointer; }
        .comment-submit:hover { background:#218838; }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar Navigation -->
        <div class="sidebar">
            <h2>Navigation</h2>
            <div id="nav-menu">
                <!-- Navigation items will be generated by JavaScript -->
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Welcome Section -->
            <div id="welcome" class="welcome-section">
                <h1>Welcome to this site</h1>
                <p>Explore the different sections using the navigation menu on the left to learn about what Islam really teaches. Each section contains a different topic with Islamic sources and occasionally my commentary.</p>
            </div>

            <!-- Dynamic Content Sections -->
            <div id="content-area">
                <!-- Content sections will be generated by JavaScript -->
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        // Function to generate source URLs
        // Function to generate source URLs
        function generateSourceUrl(title, type, sourceUrl = null) {
            if (type === 'quran') {
                // Extract chapter and verse from Quran titles like "Quran 2:223"
                const match = title.match(/(\d+):(\d+)/);
                if (match) {
                    const chapter = match[1];
                    const verse = match[2];
                    return `https://quranx.com/${chapter}.${verse}`;
                }
            }
            else if (type === 'hadith') {
                // Common regex for hadith numbers with optional letter suffix
                const match = title.match(/(\d+[a-z]?)/i);

                if (title.toLowerCase().includes('bukhari') && match) {
                    return `https://sunnah.com/bukhari:${match[1]}`;
                }
                else if (title.toLowerCase().includes('muslim') && match) {
                    return `https://sunnah.com/muslim:${match[1]}`;
                }
                else if (title.toLowerCase().includes('nasa') && match) {
                    return `https://sunnah.com/nasai:${match[1]}`;
                }
                else if (title.toLowerCase().includes('dawud') && match) {
                    return `https://sunnah.com/abudawud:${match[1]}`;
                }
                else if (title.toLowerCase().includes('majah') && match) {
                    return `https://sunnah.com/ibnmajah:${match[1]}`;
                }
                else if (title.toLowerCase().includes('at-tirmidhi') && match) {
                    return `https://sunnah.com/tirmidhi:${match[1]}`;
                }
                else if (title.toLowerCase().includes('al-mufrad') && match) {
                    return `https://sunnah.com/adab:${match[1]}`;
                }
            }
            else if (type === 'other' && sourceUrl) {
                // Use the provided source URL for "other" type sources
                return sourceUrl;
            }
            
            // Default fallback for all other sources
            return 'https://islam.com';
        }


        // Function to convert Markdown-style links to HTML
        function parseMarkdownLinks(text) {
            // Convert [text](url) to <a href="url" target="_blank">text</a>
            return text.replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" target="_blank">$1</a>');
        }

        // Content Database - Easy to modify and add new sections
        const contentDatabase = {
            "about": {
                title: "About Me",
                subTopics: {
                    "mission": {
                        title: "My Mission",
                        introduction: "My mission is to expose errors and falsities in popular heretical sects such as: Islam, Modern Judaism, Mormonism, Unitarianism, Jehovas witnesses, and more.",
                        sources: [
                            // Example of how to add an image:
                            // {
                            //     title: "Example Image",
                            //     text: "images/example.jpg", // Path to your local image file
                            //     type: "image",
                            //     size: "medium", // Options: "small" (200px), "medium" (400px), "large" (600px), "full" (100%)
                            //     caption: "Optional caption for the image" // Optional caption
                            // },
                            // {
                            //     title: "Mission Statement",
                            //     text: "We strive to present Islamic teachings in a clear, accessible manner while maintaining the authenticity and depth of the original sources. Our content is carefully curated and reviewed to ensure accuracy and relevance.",
                            //     type: "other",
                            //     source: "https://islam.com"
                            // },
                            // {
                            //     title: "Our Purpose",
                            //     text: "Whether you're seeking daily guidance, learning about Islamic principles, or exploring the rich history and culture of Islam, IslamBot is here to assist you on your journey of knowledge and spiritual growth.",
                            //     type: "other",
                            //     source: "https://islam.com"
                            // }
                        ]
                    },
                    "credits": {
                        title: "Credits",
                        introduction: "Written by Dav, big thanks to the following websites (that i also sometimes directly quoted from): https://www.answering-islam.org/",
                        sources: [
                            // {
                            //     title: "Research Team",
                            //     text: "Our research team consists of qualified Islamic scholars who verify all sources and ensure theological accuracy in our presentations.",
                            //     type: "other",
                            //     source: "https://islam.com"
                            // },
                            // {
                            //     title: "Technical Team",
                            //     text: "Our technical team works to make Islamic knowledge accessible through modern digital platforms while maintaining the integrity of the original sources.",
                            //     type: "other",
                            //     source: "https://islam.com"
                            // }
                        ]
                    },
                    "contact": {
                        title: "Contact Me",
                        introduction: "Contact me through the platforms below:",
                        sources: [
                            {
                                title: "Discord",
                                text: "Join the community on Discord",
                                type: "other",
                                source: "https://discord.gg/UhK5kXCA5h"
                            },
                            {
                                title: "TikTok",
                                text: "Follow me on TikTok",
                                type: "other",
                                source: "https://www.tiktok.com/@davxchrist"
                            },
                            {
                                title: "Telegram",
                                text: "Telegram channel/group",
                                type: "other",
                                source: ""
                            },
                            {
                                title: "Twitter",
                                text: "Follow on Twitter",
                                type: "other",
                                source: ""
                            },
                            {
                                title: "Email",
                                text: "Send me an email",
                                type: "other",
                                source: "mailto:#todo@example.com"
                            }
                        ]
                    }
                }
            },
                
            "intro_islam": {
                title: "Islam - A Summary",
                subTopics: {
                    "Islam - A Summary": {
                        title: "Introduction to Islam",
                        introduction: "Islam and the 'prophet' Muhammad in particular can be described in one word: clueless. Muhammad, over the course of his 23 year 'prophethood', had absolutely no clue what he was doing or saying. The character Muhammad is a good representation of what people in  7th century arabia believed, mixed with a pinch of interest and admiration for abrahamic belief. This exactly describes Muhammad. Perhaps we shouldn't blame him for his character and his words, but rather for his lying about being a prophet, because his beliefs were simply a reflection of what people in the 7th century thought to be true. It is also possible that he suffered from a mental illness or truly was possessed by demons. What is clear to say though: Muhammad was neither an example for all times, nor is Islam a religion for all times.",
                        sources: [


                            {
                                title: "Sahih Muslim 146",
                                text: "It is narrated on the authority of Ibn 'Umar ('Abdullah b. 'Umar) that the Messenger of Allah (ﷺ) observed: Verily Islam started as something strange and it would again revert (to its old position) of being strange just as it started, and it would recede between the two mosques just as the serpent crawls back into its hole.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            }
                            // Example of how to add an image:
                            // {
                            //     title: "Example Image",
                            //     text: "images/example.jpg", // Path to your local image file
                            //     type: "image",
                            //     size: "medium", // Options: "small" (200px), "medium" (400px), "large" (600px), "full" (100%)
                            //     caption: "Optional caption for the image" // Optional caption
                            // },
                            // {
                            //     title: "Mission Statement",
                            //     text: "We strive to present Islamic teachings in a clear, accessible manner while maintaining the authenticity and depth of the original sources. Our content is carefully curated and reviewed to ensure accuracy and relevance.",
                            //     type: "other",
                            //     source: "https://islam.com"
                            // },
                            // {
                            //     title: "Our Purpose",
                            //     text: "Whether you're seeking daily guidance, learning about Islamic principles, or exploring the rich history and culture of Islam, IslamBot is here to assist you on your journey of knowledge and spiritual growth.",
                            //     type: "other",
                            //     source: "https://islam.com"
                            // }
                        ]
                    },
                  
                }
            },



            "teachings_on_women": {
                title: "Teachings on Women",
                subTopics: {
                    "women_inferior": {
                        title: "Women inferior to men",
                        introduction: "Islam believes women are to be subordinate and obedient to their husbands and are generally seen as the inferior gender, this is both expressed in the Quran itself as well as in the authentic islamic hadiths.",
                        sources: [
                            
                            
                            {
                                title: "Quran 2:223",
                                text: "Your wives are a place of sowing for you, so come to your place of cultivation however you wish, and send (good deeds) ahead for yourselves.",
                                type: "quran"
                            },
                            {
                                title: "Quran 2:228",
                                text: "And due to the wives is similar to what is expected of them, according to what is reasonable. But the men have a degree over them.</strong>",
                                type: "quran"
                            },
                            {
                                title: "Quran 4:43",
                                text: "Men are the maintainers of women because Allah has made some of them to excel others and because they spend out of their property;",
                                type: "quran"
                            },
                            {
                                title: "Sunan Abi Dawud 2140",
                                text: "I went to al-Hirah and saw them (the people) prostrating themselves before a satrap of theirs, so I said: The Messenger of Allah (ﷺ) has most right to have prostration made before him. When I came to the Prophet (ﷺ), I said: I went to al-Hirah and saw them prostrating themselves before a satrap of theirs, but you have most right, Messenger of Allah, to have (people) prostrating themselves before you. He said: Tell me , if you were to pass my grave, would you prostrate yourself before it? I said: No. He then said: Do not do so. If I were to command anyone to make prostration before another I would command women to prostrate themselves before their husbands, because of the special right over them given to husbands by Allah.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sahih al-Bukhari 5193",
                                text: "The Prophet (ﷺ) said, If a man Invites his wife to sleep with him and she refuses to come to him, then the angels send their curses on her till morning.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sahih Muslim 1436c",
                                text: "By Him in Whose Hand is my life, when a man calls his wife to his bed, and she does not respond, the One Who is in the heaven is displeased with her until he (her husband) is pleased with her.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sahih al-Bukhari 5192",
                                text: "The Prophet (ﷺ) said, A woman should not fast (optional fasts) except with her husband's permission if he is at home.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sunan Ibn Majah 1853",
                                text: "Abdullah bin Abu Awfa said “When Muadh bin Jabal came from Sham, he prostrated to the Prophet who said: 'What is this, O Muadh?' He said: 'I went to Sham and saw them prostrating to their bishops and patricians and I wanted to do that for you.' The messenger of Allah said: 'Do not do that. If I were to command anyone to prostrate to anyone other than Allah, I would have commanded women to prostrate to their husbands. By the One in Whose Hand is the soul of Muhammad! No woman can fulfill her duty towards Allah until she fulfills her duty towards her husband. If he asks her (for intimacy) even if she is on her camel saddle, she should not refuse.' ”",
                                type: "hadith",
                                grading: "Hasan (Good)"
                            },
                          
                          
                            {
                                title: "Sahih al-Bukhari 5195",
                                text: "Allah's Messenger (ﷺ) said, 'It is not lawful for a lady to fast (Nawafil) without the permission of her husband when he is at home; and she should not allow anyone to enter his house except with his permission; and if she spends of his wealth (on charitable purposes) without being ordered by him, he will get half of the reward.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sunan Abi Dawud 1723",
                                text: "The Messenger of Allah (SWAS) as saying : A muslim woman must not make a journey of a night unless she is accompanied by a man who is within the prohibited degrees.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sahih al-Bukhari 1088",
                                text: "The Prophet (p.b.u.h) said, 'It is not permissible for a woman who believes in Allah and the Last Day to travel for one day and night except with a Mahram.'",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sahih al-Bukhari 5246",
                                text: "The Prophet (ﷺ) said, 'If you enter (your town) at night (after coming from a journey), do not enter upon your family till the woman whose husband was absent (from the house) shaves her pubic hair and the woman with unkempt hair, combs her hair' Allah's Messenger (ﷺ) further said, '(O Jabir!) Seek to have offspring, seek to have offspring!",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sahih Muslim 1453e",
                                text: "I heard Umm Salama, the wife of Allah's Apostle (may peace be upon himy, saying to 'A'isha: By Allah, I do not like to be seen by a young boy who has passed the period of fosterage, whereupon she ('A'isha) said: Why is it so? Sahla daughter of Suhail came to Allah's Messenger (ﷺ) and said: Allah's Messenger, I swear by Allah that I see in the face of Abu Hudhaifa (the signs of disgust) on account of entering of Salim (in the house), whereupon Allah's Messenger (ﷺ) said: Suckle him. She (Sahla bint Suhail) said: He has a heard. But he (again) said: Suckle him, and it would remove what is there (expression of disgust) on the face of Abu Hudhaifa. She said: (I did that) and, by Allah, I did not see (any sign of disgust) on the face of Abu Hudhaifa.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            

                           




                            {
                                type: "commentary",
                                text: "This shows that the woman is to obey her husband at all times and that men are generally understood to be superior to women. Men can wish for sex whenever they want and the wife cannot refuse."
                            },

                            
                        ]
                    },
                    "women_unintelligent": {
                        title: "Women unintelligent",
                        introduction: "Islam believes the testimony of 1 man is equal to the testimony of 2 women and the inheritance for daughters is half of what sons get. Women are also regarded as stupid, forgetful and lost without a man, degrading them to the status of pets or little children.",
                        sources: [
                            
                            
                            {
                                title: "Quran 2:282",
                                text: "Call upon two of your men to witness. If two men cannot be found, then one man and two women of your choice will witness—so if one of the women forgets the other may remind her.",
                                type: "quran"
                            },
                            {
                                title: "Quran 4:11",
                                text: "Allah commands you regarding your children: the share of the male will be twice that of the female.",
                                type: "quran"
                            },
                            {
                                title: "Sahih al-Bukhari 2658",
                                text: "The Prophet (ﷺ) said, 'Isn't the witness of a woman equal to half of that of a man?' The women said, 'Yes.' He said, <strong>'This is because of the deficiency of a woman's mind.'</strong>",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sahih al-Bukhari 304",
                                text: "Once Allah's Messenger (ﷺ) went out to the Musalla (to offer the prayer) of `Id-al-Adha or Al-Fitr prayer. Then he passed by the women and said, 'O women! Give alms, as I have seen that the majority of the dwellers of Hell-fire were you (women).' They asked, 'Why is it so, O Allah's Messenger (ﷺ) ?' He replied, 'You curse frequently and are ungrateful to your husbands. I have not seen anyone more deficient in intelligence and religion than you. A cautious sensible man could be led astray by some of you.' The women asked, 'O Allah's Messenger (ﷺ)! What is deficient in our intelligence and religion?' He said, 'Is not the evidence of two women equal to the witness of one man?' They replied in the affirmative. He said, 'This is the deficiency in her intelligence. Isn't it true that a woman can neither pray nor fast during her menses?' The women replied in the affirmative. He said, 'This is the deficiency in her religion.'",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sahih al-Bukhari 7099",
                                text: "During the battle of Al-Jamal, Allah benefited me with a Word (I heard from the Prophet). When the Prophet heard the news that the people of the Persia had made the daughter of Khosrau their Queen (ruler), he said, 'Never will succeed such a nation as makes a woman their ruler.'",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            


                            // {
                            //     type: "commentary",
                            //     text: "This shows that the woman is to obey her husband at all times and that men are generally understood to be superior to women. Men can wish for sex whenever they want and the wife cannot refuse."
                            // },

                            
                        ]
                    },
                    "women_evil": {
                        title: "Women evil",
                        introduction: "Islam insults women yet again calling them evil, ungrateful, profane, and that they'll be the overrepresented gender in hell.",
                        sources: [
                            {
                                title: "Sahih al-Bukhari 304",
                                text: "Once Allah's Messenger (ﷺ) went out to the Musalla (to offer the prayer) of `Id-al-Adha or Al-Fitr prayer. Then he passed by the women and said, 'O women! Give alms, as I have seen that the majority of the dwellers of Hell-fire were you (women).' They asked, 'Why is it so, O Allah's Messenger (ﷺ) ?' He replied, 'You curse frequently and are ungrateful to your husbands. I have not seen anyone more deficient in intelligence and religion than you. A cautious sensible man could be led astray by some of you.' The women asked, 'O Allah's Messenger (ﷺ)! What is deficient in our intelligence and religion?' He said, 'Is not the evidence of two women equal to the witness of one man?' They replied in the affirmative. He said, 'This is the deficiency in her intelligence. Isn't it true that a woman can neither pray nor fast during her menses?' The women replied in the affirmative. He said, 'This is the deficiency in her religion.'",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sahih al-Bukhari 2858",
                                text: "I heard the Prophet (ﷺ) saying, 'Evil omen is in three things: The horse, the woman and the house.'",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sahih Muslim 511",
                                text: "The Messenger of Allah (ﷺ) said: A woman, an ass and a dog disrupt the prayer, but something like the back of a saddle guards against that.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sahih al-Bukhari 511",
                                text: "The things which annul the prayers were mentioned before me. They said, 'Prayer is annulled by a dog, a donkey <strong>and a woman</strong> (if they pass in front of the praying people).' I said, <strong>'You have made us (i.e. women) dogs</strong>. I saw the Prophet (ﷺ) praying while I used to lie in my bed between him and the Qibla. Whenever I was in need of something, I would slip away. for I disliked to face him.'",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sahih Muslim 2226a",
                                text: "If bad luck were to be in anything, it is found in the woman, the horse and the abode.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sahih Muslim 512d",
                                text: "It was mentioned before'A'isha that prayer is invalidated (in case of passing) of a dog, an ass <strong>and a woman</strong> (before the worshipper, when he is not screened). <strong>Upon this 'A'isha said: You likened us to the asses and the dogs.</strong> By Allah I saw the Messenger of Allah (ﷺ) saying prayer while I lay on the bedstead interposing between him and the Qibla. When I felt the need, I did not like to wit to front (of the Holy Prophet) and perturb the Messenger of Allah (ﷺ) and quietly moved out from under its (i. e. of the bedstead) legs.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                
                                type: "commentary",
                                text: "This shows that women are literally compared to dogs and donkeys, a degrading and humiliating insult to women. Aisha (the underage wife of Muhammad) also points this out in one of the listed narrations. And if that wasn't enough, Muhammad also describes them as evil."
                            },
                            
                        ]
                    },
                    "polygamy": {
                        title: "Polygamy",
                        introduction: "According to Islam, men may marry and have sex with up to 4 wives. It is not needed to get consent from your other wife(s) to marry another, as such a verse or a hadith is nowhere to be found in islamic tradition. Us not having a single Quranic verse or Islamic hadith requiring a man to obtain the consent of his existing wife(s) before marrying another, shows that the classical Islamic legal position did not make polygamy contingent on the wifes' approval.",
                        sources: [
                            {
                                title: "Quran 4:3",
                                text: "And if you fear that you will not deal justly with the orphans, then marry those women that please you — two, three, or four. But if you fear that you will not be just, then [marry only] one, or those your right hands possess.",
                                type: "quran"
                            },
                            {
                                title: "Sahih al-Bukhari 5068",
                                text: "The Prophet (ﷺ) used to go round (have sexual relations with) all his wives in one night, and he had nine wives.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sunan Abi Dawud 2241 ",
                                text: "I embraced Islam while I had eight wives. So I mentioned it to the Prophet (ﷺ). The Prophet (said) said: Select four of them.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                type: "commentary",
                                text: "These hadiths illustrate how polygamy (the marriage to multiple partners, in this case women) is allowed and was a common practice in early Islam. While the Quran says you may have a maximum of 4 women at a time, Muhammad had at his maximum 9. The reason for such favorism is discussed in the chapter 'Muhammads Character'. Nonetheless, despite many modern muslims today denying the fact that you can have multiple women, Muhammad himself told the convert to select four of his eight wives, and divorce the rest. If polygamy was only allowed to care for women in need, why does Muhammad tell the man to divorce four, and keep four? If the women were in need, four of them would have lost their basis of living. if the women weren't in need, it means Islam endorses polygamy, which is the more probable explanation."
                            }
                        ]
                    },

                    "rape_captives": {
                        title: "Rape of captives",
                        introduction: "According to Islam, men may rape the women whom they took captive. In the Quran it's explicitly stated that you are allowed to have intercourse with your captive women. After investigating the authentic islamic hadiths regarding this verse, we come to the conclusion that the god of Islam actively supports the rape of women.",
                        sources: [
                            {
                                title: "Quran 4:24",
                                text: "And [also prohibited to you are] married women <strong>except those your right hands possess.</strong> [This is] the decree of Allah upon you.",
                                type: "quran"
                            },
                            {
                                title: "Quran 23:1-6",
                                text: "Successful are the believers [...] And they who guard their private parts <strong>except from their wives or those their right hands possess</strong> - for indeed, they are not to be blamed.",
                                type: "quran"
                            },
                            {
                                title: "Sahih Muslim 1456a",
                                text: "Abu Sa'id al-Khudri (Allah her pleased with him) reported that at the Battle of Hanain Allah's Messenger (ﷺ) sent an army to Autas and encountered the enemy and fought with them. <strong>Having overcome them and taken them captives, the Companions of Allah's Messenger (may peace te upon him) seemed to refrain from having intercourse with captive women because of their husbands being polytheists. Then Allah, Most High, sent down regarding that:' And women already married, except those whom your right hands possess (iv. 24)'</strong>",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sunan Abi Dawud 2155",
                                text: "Abu Sa’id Al Khudri said “The Apostle of Allaah(ﷺ) sent a military expedition to Awtas on the occasion of the battle of Hunain. They met their enemy and fought with them. <strong>They defeated them and took them captives. Some of the Companions of Apostle of Allaah (ﷺ) were reluctant to have relations with the female captives because of their pagan husbands. So, Allaah the exalted sent down the Qur’anic verse 'And all married women (are forbidden) unto you save those (captives) whom your right hand posses.'</strong>",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sunan an-Nasa'i 3959",
                                text: "It was narrated from Anas, <strong>that the Messenger of Allah had a female slave with whom he had intercourse,</strong> but 'Aishah and Hafsah would not leave him alone until he said that she was forbidden for him. <strong>Then Allah, the Mighty and Sublime, revealed:'O Prophet! Why do you forbid (for yourself) that which Allah has allowed to you.'</strong> until the end of the Verse.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                type: "commentary",
                                text: "The verse in the Quran:"

                            },
                            {
                                type: "quran",
                                title: "Quran 66:1",
                                text: "O Prophet, why do you prohibit [yourself from] what Allah has made lawful for you, seeking the approval of your wives? And Allah is Forgiving and Merciful."
                            },
                            {
                                title: "Jalāl al-Dīn al-Suyūṭī in Lubāb al-Nuqūl fī Asbāb al-Nuzūl",
                                text: "It is narrated on the authority of Ibn ‘Abbas that he said: When it was the day of Hunayn (battle) and Allah Almighty helped the Muslims conquer Hunayn, <strong>the Muslims got female captives from the people of the Scripture. If a man liked to have sexual intercourse with any woman (of them whom his right hand possessed) she would say to him: “I have a husband”. The Messenger of Allah was asked about that, thereupon Allah revealed this Qur’anic Verse.</strong>",
                                type: "other",
                                source: "https://archive.org/details/reasons-and-occasions-of-revela-jalal-al-din-al-suyuti-1"
                            },
                            {
                                
                                text: "This shows that despite the fact that the women had husbands, they were allowed to be raped by their captors under the permission of Allah. This could not have been consential, as it is highly unlikely that a married woman who was just taken captive would sleep with her captor. The women also said 'I have a husband' in one of the narrations, implying that she does not want to have sex with this man. Yet it was Allah who allowed it to happen, therefore actively supporting rape.<br><br>Some muslims may say that this is only possible if the woman consents, but we have no authentic narration supporting this claim. Furthermore, it is highly unlikely even 1% of women who have husbands would voluntarily sleep with their captor, yet it happened here in these hadiths. What are the odds for multiple MARRIED women to cheat on their husband by sleeping with the man that had just possibly slaughtered her family and raided her village? ",
                                type: "commentary",

                            },
                           
                        ]
                    },
                    
                    "child_marriage": {
                        title: "Child Marriage",
                        introduction: "Most muslims do not want Islam to be associated with any forms of child marriage, but unfortunately for them, the Quran as well as the authentic Islamic hadiths seem to have no issue with it, in fact, they openly support it. Contrary to the knowledge of many muslims, the Quran openly allows the marriage, intercourse, and divorce of prepubescent girls.",
                        sources: [
                            {
                                title: "Quran 65:4 ",
                                text: "And those of your women who have passed the age of menstruation—if you are in doubt—their waiting period is three months, <strong>as is the case for those who have not menstruated.</strong> As for pregnant women, their waiting period is until they give birth. And whoever fears Allah—He will make his matter easy for him.",
                                type: "quran",
                           
                            },
                            {
                                title: "Quran 33:49 ",
                                text: "O you who have believed, when you marry believing women and then divorce them before you have touched them, then there is not for you any waiting period to count concerning them.",
                                type: "quran",
                           
                            },
                            {
                                title: "Ibn Abbas commentary on 65:4",
                                text: "(And for such of your women as despair of menstruation) because of old age, (if ye doubt) about their waiting period, (their period (of waiting) shall be three months) upon which another man asked: <strong>“O Messenger of Allah! What about the waiting period of those who do not have menstruation because they are too young?” (along with those who have it not) because of young age, their waiting period is three months.</strong>",
                                type: "other",
                                source: "https://quranx.com/Tafsir/Abbas/65.4"
                           
                            },
                            {
                                title: "Ibn Kathir commentary on 65:4",
                                text: "Her Iddah is three months instead of the three monthly cycles for those who menstruate, which is based upon the Ayah in (Surat) Al-Baqarah. see 2:228 <strong>The same for the young, who have not reached the years of menstruation. Their Iddah is three months like those in menopause.</strong>",
                                type: "other",
                                source: "https://quranx.com/Tafsir/Kathir/65.4"
                           
                            },
                            {
                                type: "commentary",
                                text: "The 'waiting period' (arabic: عِدَّة [‘iddah]) is the islamic waiting period between divorces, meaning, if a man divorces her wife or her husband dies, she has to wait this specific waiting period before marrying another man. One thing we have to note is that the ‘iddah does not apply if there was no sexual intercourse. the ‘iddah only applies when the wife had intercourse with her husband (as you can read above in 33:49). And now the question: why does 65:4 mention 'those who have not menstruated' and giving them a specific ‘iddah (waiting period)? It's talking about prepubescent girls and it gives them a waiting period between marriages, and that waiting period only applies when the woman (or girl) had sex with her partner. So, Islam completely and openly supports marriage to little children, even allowing men to have sex with them. This also explains the marriage to Aisha, an underage girl, whom Muhammad married."
                            },
                            {
                                type: "commentary",
                                text: "More on (child) marriage:"
                            },
                            {
                                title: "Sahih al-Bukhari 5136",
                                text: "The Prophet (ﷺ) said, 'A matron should not be given in marriage except after consulting her; and a virgin should not be given in marriage except after her permission.' The people asked, O Allahs Messenger (ﷺ)! <strong>How can we know her permission?' He said, 'Her silence (indicates her permission).'</strong>",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sahih al-Bukhari 5137",
                                text: "I said, 'O Allah's Messenger (ﷺ)! A virgin feels shy.' He said, <strong>'Her consent is (expressed by) her silence.'</strong>",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sahih al-Bukhari 6946",
                                text: "I asked the Prophet, 'O Allah's Messenger (ﷺ)! Should the women be asked for their consent to their marriage?' He said, 'Yes.' I said, <strong>'A virgin, if asked, feels shy and keeps quiet.' He said, 'Her silence means her consent.'</strong>",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sahih al-Bukhari 6968",
                                text: "'O Allah's Apostle! <strong>How will she (the virgin) express her consent?' He said, 'By keeping silent.'</strong> Some people said that if a virgin is not asked for her consent and she is not married, and then a man, <strong>by playing a trick presents two false witnesses that he has married her with her consent and the judge confirms his marriage as a true one, and the husband knows that the witnesses were false ones, then there is no harm for him to consummate his marriage with her and the marriage is regarded as valid.</strong>",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sahih al-Bukhari 6970",
                                text: "The people said, <strong>'How will she express her permission?' The Prophet (ﷺ) said, 'By keeping silent (when asked her consent).'</strong> Some people said, <strong>'If a man, by playing a trick, presents two false witnesses before the judge to testify that he has married a matron with her consent and the judge confirms his marriage, and the husband is sure that he has never married her (before), then such a marriage will be considered as a legal one and he may live with her as husband.'</strong>",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                title: "Sahih al-Bukhari 6971",
                                text: "I said, <strong>'A virgin feels shy.' The Prophet; said, 'Her silence means her consent.'</strong> Some people said, <strong>'If a man falls in love with an orphan slave girl or a virgin and she refuses (him) and then he makes a trick by bringing two false witnesses to testify that he has married her, and then she attains the age of puberty and agrees to marry him and the judge accepts the false witness and the husband knows that the witnesses were false ones, he may consummate his marriage.'</strong>",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                           
                            
                        ]
                    },
                    "aisha": {
                        title: "Marriage to Aisha",
                        introduction: "Was Aisha really 9? According to many modern muslims she wasn't, but the most authentic islamic hadiths regarding her age say otherwise. She was in fact 9 years old when Muhammad married her. We can also examine that she was prepubescent and not fit in any way to be married to a grown man and have sex with him.",
                        sources: [
                            
                            {
                                title: "Sahih al-Bukhari 5078",
                                text: "Allah's Messenger (ﷺ) said (to me), 'You have been shown to me twice in (my) dreams. A man was carrying you in a silken cloth and said to me, 'This is your wife.' I uncovered it; and behold, it was you. I said to myself, 'If this dream is from Allah, He will cause it to come true.'",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                           
                            },
                            {
                                type: "commentary",
                                text: "Apparently, God told Muhammad that he has to marry a little girl. How convenient."
                            },
                            {
                                title: "Sunan an-Nasa'i 3255",
                                text: "It was narrated from 'Aishah that the Messenger of Allah married her when she was six years old, and consummated the marriage with her when she was nine.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                           
                            },
                            {
                                title: "Sahih al-Bukhari 5158",
                                text: "The Prophet (ﷺ) wrote the (marriage contract) with `Aisha while she was six years old and consummated his marriage with her while she was nine years old and she remained with him for nine years (i.e. till his death).",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                           
                            },
                            {
                                title: "Sahih al-Bukhari 5134",
                                text: "that the Prophet (ﷺ) married her when she was six years old and he consummated his marriage when she was nine years old. Hisham said: I have been informed that `Aisha remained with the Prophet (ﷺ) for nine years (i.e. till his death).",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                           
                            },
                            {
                                title: "Sahih Muslim 1422c",
                                text: "'A'isha (Allah be pleased with her) reported that Allah's Apostle (ﷺ) married her when she was seven years old, and he was taken to his house as a bride when she was nine, and her dolls were with her; and when he (the Holy Prophet) died she was eighteen years old.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                           
                            },
                            {
                                title: "Sunan Abi Dawud 2121",
                                text: "The Messenger of Allah (ﷺ) married me when I was seven years old. The narrator Sulaiman said: or Six years. He had intercourse with me when I was nine years old.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                           
                            },
                            {
                                title: "Sahih al-Bukhari 6130",
                                text: "I used to play with the dolls in the presence of the Prophet, and my girl friends also used to play with me. When Allah's Messenger (ﷺ) used to enter (my dwelling place) they used to hide themselves, but the Prophet would call them to join and play with me. (The playing with the dolls and similar images is forbidden, but it was allowed for `Aisha at that time, as she was a little girl, not yet reached the age of puberty.) (Fath-ul-Bari page 143, Vol.13)",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                           
                            },
                            {
                                title: "Sunan Ibn Majah 1982",
                                text: "I used to play with dolls when I was with the Messenger of Allah, and he used to bring my friends to me to play with me.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                           
                            },
                            {
                                title: "Sunan an-Nasa'i 3378",
                                text: "The Messenger of Allah married me when I was six, and consummated the marriage with me when I was nine, and I used to play with dolls.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                           
                            },
                            {
                                title: "Sahih Muslim 2440a",
                                text: "A'isha reported that she used to play with dolls in the presence of Allah's Messenger (ﷺ) and when her playmates came to her they left (the house) because they felt shy of Allah's Messenger (ﷺ), whereas Allah's Messenger (ﷺ) sent them to her.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                           
                            },
                            {
                                title: "Sunan Abi Dawud 4935",
                                text: "When we came to Medina, the women came to me when I was playing on the swing, and my hair were up to my ears. They brought me, prepared me, and decorated me. Then they brought me to the Messenger of Allah (ﷺ) and he took up cohabitation with me, when I was nine.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                           
                            },
                            {
                                title: "Sahih al-Bukhari 3894",
                                text: "The Prophet (ﷺ) engaged me when I was a girl of six (years). We went to Medina and stayed at the home of Bani-al-Harith bin Khazraj. Then I got ill and my hair fell down. Later on my hair grew (again) and my mother, Um Ruman, came to me while I was playing in a swing with some of my girl friends. She called me, and I went to her, not knowing what she wanted to do to me. [...] Then she entrusted me to them and they prepared me (for the marriage). Unexpectedly Allah's Apostle came to me in the forenoon and my mother handed me over to him, and at that time I was a girl of nine years of age.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                           
                            },
                            {
                                title: "Ibn Kathīr, al-Bidāyah wa’l-Nihāyah, vol. 8, p. 346 (Cairo: Dār Hajr) ",
                                text: "'In it (the ḥadīth) is that she was six years old at the contract and nine years old at the consummation. This is a matter upon which there is consensus among the people; there is no difference about it.'",
                                type: "other",
                                source: "https://archive.org/details/BookOfTheEnd_ibnkathir"
                           
                            },
                            
                            {
                                type: "commentary",
                                text: "We can very clearly identify Aisha's age being 9 as it is mentioned in several authentic hadiths. We can also see her playing with dolls and swings, which wouldn't exactly indicate a finished psychological development. In Sahih al-Bukhari 6130 we can also read Ibn Hajar’s commentary in Fath al-Bari about this hadith, which tells us Aisha played with dolls, and his explanation for her being allowed to do this (as imagery is strictly forbidden in islam) is that Aisha was a little girl, not having reached puberty yet. So, we can conclude, Muhammad married and had sex with a prepubescent girl."
                            },

                            {
                                type: "commentary",
                                text: "DEBUNKING MISLEADING HADITHS",

                            },
                            {
                                type: "commentary",
                                text: "There are two misleading hadiths that present Aisha having reached puberty before the consummation of her marriage:"
                            },
                            {
                                title: "Sunan Abi Dawud 4933",
                                text: "The Messenger of Allah (ﷺ) married me when I was seven or six. When we came to Medina, some women came. according to Bishr's version: Umm Ruman came to me when I was swinging. They took me, made me prepared and decorated me. I was then brought to the Messenger of Allah (ﷺ), and he took up cohabitation with me when I was nine. She halted me at the door, and I burst into laughter. Abu Dawud said: <strong>That is to say: I menstruated,</strong> and I was brought in a house, and there were some women of the Ansari in it. They said: With good luck and blessing. The tradition of one of them has been included in the other.",
                                type: "hadith",
                                grading: "Sahih (Authentic)"
                            },
                            {
                                type: "commentary",
                                text: "Is this true? Did Aisha really menstruate? No! Let's look at another translation of this hadith:"
                            },

                            {
                                title: "Sunan Abi Dawud 4933",
                                text: "aishamisleadinghadith1.jpg",
                                type: "image",
                                size: "medium",
                                caption: ""
                            },
                            {
                                type: "commentary",
                                text: "So who is right here? Well, let's simply look into the arabic. In the arabic, there is no word that denotes Aisha menstruating or even talks about anything remotely similar to it. Here is the arabic (you can check this [here](https://sunnah.com/abudawud:4933)):<br><br>حَدَّثَنَا مُوسَى بْنُ إِسْمَاعِيلَ، حَدَّثَنَا حَمَّادٌ، ح وَحَدَّثَنَا بِشْرُ بْنُ خَالِدٍ، حَدَّثَنَا أَبُو أُسَامَةَ، قَالاَ حَدَّثَنَا هِشَامُ بْنُ عُرْوَةَ، عَنْ أَبِيهِ، عَنْ عَائِشَةَ، قَالَتْ إِنَّ رَسُولَ اللَّهِ صلى الله عليه وسلم تَزَوَّجَنِي وَأَنَا بِنْتُ سَبْعِ سِنِينَ فَلَمَّا قَدِمْنَا الْمَدِينَةَ أَتَيْنَ نِسْوَةٌ - وَقَالَ بِشْرٌ فَأَتَتْنِي أُمُّ رُومَانَ - وَأَنَا عَلَى أُرْجُوحَةٍ فَذَهَبْنَ بِي وَهَيَّأْنَنِي وَصَنَعْنَنِي فَأُتِيَ بِي رَسُولُ اللَّهِ صلى الله عليه وسلم فَبَنَى بِي وَأَنَا ابْنَةُ تِسْعٍ فَوَقَفَتْ بِي عَلَى الْبَابِ فَقُلْتُ هِيهْ هِيهْ - قَالَ أَبُو دَاوُدَ أَىْ تَنَفَّسَتْ - فَأُدْخِلْتُ بَيْتًا فَإِذَا فِيهِ نِسْوَةٌ مِنَ الأَنْصَارِ فَقُلْنَ عَلَى الْخَيْرِ وَالْبَرَكَةِ ‏.‏ دَخَلَ حَدِيثُ أَحَدِهِمَا فِي الآخَرِ ‏.‏<br><br>The Arabic does not mention the word 'menstruate' or anything REMOTELY similar anywhere here. A very deceptive translation to make people believe Aisha had reached puberty."
                            },
                            {
                                title: "What it really says - Google translation",
                                text: "googletranslationaishahadith.png",
                                type: "image",
                                size: "full",
                                caption: "No mention of anything remotely similar to the words 'menstruate' or 'puberty'"
                            },
                            {
                                title: "What it really says - Deepl translation",
                                text: "deepltranslationaishahadith.png",
                                type: "image",
                                size: "full",
                                caption: "The same thing here"
                            },

                            {
                                type: "commentary",
                                text: "To those who speak arabic, try finding where in this hadith it speaks about Aisha menstruating. You won't find it."
                            },

                            {
                                type: "commentary",
                                text: "Unfortunately, this is not the only badly translated hadith to make Aisha seem post-pubescent at the time of her marriage to Muhammad:"
                            },
                            {
                                type: "commentary",
                                text: "[This translation](https://hadithcollection.com/sahihbukhari/sahih-bukhari-book-08-prayers-salat/sahih-bukhari-volume-001-book-008-hadith-number-465) appears on hadithcollection.com:"
                            },
                            {
                                type: "hadith",
                                title: "Sahih al-Bukhari 476",
                                text: "Narated By ‘Aisha : (The wife of the Prophet) I had seen my parents following Islam <strong>since I attained the age of puberty.</strong> Not a day passed but the Prophet visited us, both in the mornings and evenings. My father Abii Bakr thought of building a mosque in the courtyard of his house and he did so. He used to pray and recite the Qur’an in it. The pagan women and their children used to stand by him and look at him with surprise. Abu Bakr was a Softhearted person and could not help weeping while reciting the Quran. The chiefs of the Quraish pagans became afraid of that (i.e. that their children and women might be affected by the recitation of Quran).”",
                                
                            },
                            {
                                type: "commentary",
                                text: "This is the translation on sunnah.com:"
                            },
                            {
                                type: "hadith",
                                title: "Sahih al-Bukhari 476",
                                text: "(the wife of the Prophet) I had seen my parents following Islam <strong>since I attained the age of intelligence.</strong> Not a day passed but the Prophet (ﷺ) visited us, both in the mornings and evenings. My father Abu Bakr thought of building a mosque in the courtyard of his house and he did so. He used to pray and recite the Qur'an in it. The pagan women and their children used to stand by him and look at him with surprise. Abu Bakr was a soft-hearted person and could not help weeping while reciting the Qur'an. The chiefs of the Quraish pagans became afraid of that (i.e. that their children and women might be affected by the recitation of Qur'an)."
                            },

                            {
                                type: "commentary",
                                text: "What does it say in the arabic? (you can check it [here](https://sunnah.com/bukhari:476)):<br><br>حَدَّثَنَا يَحْيَى بْنُ بُكَيْرٍ، قَالَ حَدَّثَنَا اللَّيْثُ، عَنْ عُقَيْلٍ، عَنِ ابْنِ شِهَابٍ، قَالَ أَخْبَرَنِي عُرْوَةُ بْنُ الزُّبَيْرِ، أَنَّ عَائِشَةَ، زَوْجَ النَّبِيِّ صلى الله عليه وسلم قَالَتْ لَمْ أَعْقِلْ أَبَوَىَّ إِلاَّ وَهُمَا يَدِينَانِ الدِّينَ، وَلَمْ يَمُرَّ عَلَيْنَا يَوْمٌ إِلاَّ يَأْتِينَا فِيهِ رَسُولُ اللَّهِ صلى الله عليه وسلم طَرَفَىِ النَّهَارِ بُكْرَةً وَعَشِيَّةً، ثُمَّ بَدَا لأَبِي بَكْرٍ فَابْتَنَى مَسْجِدًا بِفِنَاءِ دَارِهِ، فَكَانَ يُصَلِّي فِيهِ وَيَقْرَأُ الْقُرْآنَ، فَيَقِفُ عَلَيْهِ نِسَاءُ الْمُشْرِكِينَ، وَأَبْنَاؤُهُمْ يَعْجَبُونَ مِنْهُ وَيَنْظُرُونَ إِلَيْهِ، وَكَانَ أَبُو بَكْرٍ رَجُلاً بَكَّاءً لاَ يَمْلِكُ عَيْنَيْهِ إِذَا قَرَأَ الْقُرْآنَ، فَأَفْزَعَ ذَلِكَ أَشْرَافَ قُرَيْشٍ مِنَ الْمُشْرِكِينَ‏.‏<br><br>Again, what the hadith really says is something entirely different. It points out that since Aisha could remember, her parents were followers of Islam. This proves the case that Aisha was prepubescent at marriage, not that she had reached puberty."
                            },

                            {
                                title: "What it really says - Google translation",
                                text: "googletranslationaishahadith2.png",
                                type: "image",
                                size: "full",
                                caption: ""
                            },
                            {
                                title: "What it really says - Deepl translation",
                                text: "deepltranslationaishahadith2.png",
                                type: "image",
                                size: "full",
                                caption: ""
                            },
                            {
                                type: "commentary",
                                text: "The sentence in question:"
                            },
                            {
                                title: "",
                                text: "aishahadithsentenceinq.png",
                                type: "image",
                                size: "full",
                                caption: ""
                            },
                            {
                                title: "",
                                text: "aishahadithsentenceinq2.png",
                                type: "image",
                                size: "full",
                                caption: ""
                            },
                            {
                                type: "commentary",
                                text: "The arabic says that Aisha's parents, since the age she could REMEMBER, were followers of Islam. Another really deceptive translation."
                            }
                        ]
                    }
                }
            },
           

        };

        // Generate navigation menu
        function generateNavigation() {
            const navMenu = document.getElementById('nav-menu');
            
            Object.keys(contentDatabase).forEach(key => {
                const navItem = document.createElement('div');
                navItem.className = 'nav-item';
                
                const titleSpan = document.createElement('span');
                titleSpan.textContent = contentDatabase[key].title;
                
                const arrow = document.createElement('span');
                arrow.className = 'nav-arrow';
                arrow.textContent = '▶';
                
                navItem.appendChild(titleSpan);
                navItem.appendChild(arrow);
                
                navItem.onclick = () => toggleSubMenu(key);
                
                // Create sub-menu
                const subMenu = document.createElement('div');
                subMenu.className = 'sub-menu';
                subMenu.id = `sub-${key}`;
                
                Object.keys(contentDatabase[key].subTopics).forEach(subKey => {
                    const subNavItem = document.createElement('div');
                    subNavItem.className = 'sub-nav-item';
                    subNavItem.textContent = contentDatabase[key].subTopics[subKey].title;
                    subNavItem.onclick = (e) => {
                        e.stopPropagation();
                        showContent(key, subKey);
                    };
                    subMenu.appendChild(subNavItem);
                });
                
                navMenu.appendChild(navItem);
                navMenu.appendChild(subMenu);
            });
        }

        // Toggle sub-menu visibility
        function toggleSubMenu(key) {
            const subMenu = document.getElementById(`sub-${key}`);
            const arrow = document.querySelector(`#nav-menu .nav-item:nth-child(${Object.keys(contentDatabase).indexOf(key) * 2 + 1}) .nav-arrow`);
            
            // Close all other sub-menus
            document.querySelectorAll('.sub-menu').forEach(menu => {
                if (menu.id !== `sub-${key}`) {
                    menu.classList.remove('show');
                }
            });
            document.querySelectorAll('.nav-arrow').forEach(arr => {
                if (arr !== arrow) {
                    arr.classList.remove('expanded');
                }
            });
            
            // Toggle current sub-menu
            subMenu.classList.toggle('show');
            arrow.classList.toggle('expanded');
        }

        // Generate content sections
        function generateContentSections() {
            const contentArea = document.getElementById('content-area');
            
            Object.keys(contentDatabase).forEach(key => {
                Object.keys(contentDatabase[key].subTopics).forEach(subKey => {
                    const section = document.createElement('div');
                    section.id = `${key}-${subKey}`;
                    section.className = 'content-section';
                    section.dataset.threadId = `${key}-${subKey}`; // thread id for comments
                    
                    // Create title
                    const title = document.createElement('h2');
                    title.textContent = contentDatabase[key].subTopics[subKey].title;
                    section.appendChild(title);
                    
                    // Create introduction
                    const introduction = document.createElement('div');
                    introduction.className = 'introduction';
                    introduction.textContent = contentDatabase[key].subTopics[subKey].introduction;
                    section.appendChild(introduction);
                    
                    // Create sources container
                    const sourcesContainer = document.createElement('div');
                    sourcesContainer.className = 'sources-container';
                    
                    // Add each source or commentary
                    contentDatabase[key].subTopics[subKey].sources.forEach(item => {
                        if (item.type === 'commentary') {
                            // Create commentary element
                            const commentary = document.createElement('div');
                            commentary.className = 'commentary';
                            commentary.innerHTML = parseMarkdownLinks(item.text);
                            sourcesContainer.appendChild(commentary);
                        } else {
                            // Create source element
                            const sourceItem = document.createElement('div');
                            sourceItem.className = 'source-item';
                            
                            const sourceTitle = document.createElement('div');
                            sourceTitle.className = 'source-title';
                               
                            // Add special styling for bible type
                            if (item.type === 'bible') {
                                sourceTitle.classList.add('bible');
                            }
                            if (item.type === 'bibleot') {
                                sourceTitle.classList.add('bibleot');
                            }
                            // Add icon based on source type
                            const icon = document.createElement('span');
                            icon.className = `source-icon ${item.type}`;
                            
                            if (item.type === 'quran') {
                                icon.textContent = '📖'; // Book emoji for Quran
                            } else if (item.type === 'hadith') {
                                icon.textContent = '📕'; // Scroll emoji for Hadith
                            } else if (item.type === 'bible') {
                                icon.textContent = '✝️'; // Cross emoji for Bible
                            } else if (item.type === 'bibleot') {
                                icon.textContent = '📘';
                            } else if (item.type === 'image') {
                                icon.textContent = '🖼️'; // Picture emoji for images
                            } else if (item.type === 'other'){
                                // If it's a social link, render with custom cards
                                const isSocial = ['Discord','TikTok','Telegram','Twitter','Email'].includes(item.title);
                                if (isSocial) {
                                    // Build once per section
                                    if (!sourcesContainer.dataset.socialBuilt) {
                                        const socialWrap = document.createElement('div');
                                        socialWrap.className = 'social-links';

                                        const socialTitles = ['Discord','TikTok','Telegram','Twitter','Email'];
                                        const platforms = contentDatabase[key].subTopics[subKey].sources
                                            .filter(s => s.type === 'other' && socialTitles.includes(s.title));

                                        platforms.forEach(p => {
                                            const a = document.createElement('a');
                                            const keyName = p.title.toLowerCase();
                                            a.href = p.source || '#';
                                            a.target = '_blank';
                                            a.rel = 'noopener noreferrer';
                                            a.className = `social-card ${keyName}${keyName==='discord' ? ' featured' : ''}`;

                                            const iconSpan = document.createElement('span');
                                            iconSpan.className = 'social-icon';
                                            const img = document.createElement('img');
                                            img.src = (
                                                keyName === 'discord' ? 'discord.jpg' :
                                                keyName === 'tiktok' ? 'tiktok.jpg' :
                                                keyName === 'telegram' ? 'telegram.png' :
                                                keyName === 'twitter' ? 'x.jpg' :
                                                'gmail.png'
                                            );
                                            img.alt = `${p.title} icon`;
                                            iconSpan.appendChild(img);

                                            const label = document.createElement('span');
                                            label.className = 'social-label';
                                            label.textContent = p.title;

                                            a.appendChild(iconSpan);
                                            a.appendChild(label);
                                              // 🔹 Custom behavior for Gmail
                                            if (keyName === 'email') {
                                                a.removeAttribute('href'); // remove mailto link
                                                a.onclick = (e) => {
                                                    e.preventDefault();
                                                    alert("You can email me here: davxchrist333@gmail.com");
                                                };
                                            }
                                            socialWrap.appendChild(a);
                                        });

                                        // Replace default source block with social cards (single block)
                                        sourceItem.appendChild(socialWrap);
                                        sourcesContainer.appendChild(sourceItem);
                                        sourcesContainer.dataset.socialBuilt = '1';
                                    }
                                    return; // skip default rendering for social items (already handled)
                                } else {
                                    icon.textContent = '📙'; // Document emoji for other sources
                                }
                            } else {
                                icon.textContent = '📚'
                            }
                            
                            const titleText = document.createElement('a');
                            titleText.textContent = item.title;
                            titleText.href = generateSourceUrl(item.title, item.type, item.source);
                            titleText.target = '_blank';
                            titleText.style.textDecoration = 'none';
                            titleText.style.color = 'inherit';
                            
                            sourceTitle.appendChild(icon);
                            sourceTitle.appendChild(titleText);
                            
                            // Add grading for hadiths
                            if (item.type === 'hadith' && item.grading) {
                                const grading = document.createElement('div');
                                grading.className = 'grading';
                                grading.textContent = `Grading: ${item.grading}`;
                                sourceTitle.appendChild(grading);
                            }
                            
                            // Handle different content types
                            if (item.type === 'image') {
                                // Create image container
                                const imageContainer = document.createElement('div');
                                imageContainer.className = 'image-container';
                                
                                const img = document.createElement('img');
                                img.className = 'source-image';
                                
                                // Add size class if specified (default to medium if not specified)
                                const size = item.size || 'medium';
                                img.classList.add(size);
                                
                                img.src = item.text; // For images, 'text' field contains the image path
                                img.alt = item.title;
                                
                                imageContainer.appendChild(img);
                                
                                // Add caption if provided
                                if (item.caption) {
                                    const caption = document.createElement('div');
                                    caption.className = 'image-caption';
                                    caption.textContent = item.caption;
                                    imageContainer.appendChild(caption);
                                }
                                
                                sourceItem.appendChild(sourceTitle);
                                sourceItem.appendChild(imageContainer);
                            } else {
                                // Regular text content
                                const sourceText = document.createElement('div');
                                sourceText.className = 'source-text';
                                sourceText.innerHTML = `"${item.text}"`;
                                
                                sourceItem.appendChild(sourceTitle);
                                sourceItem.appendChild(sourceText);
                            }
                            
                            sourcesContainer.appendChild(sourceItem);
                        }
                    });
                    
                    section.appendChild(sourcesContainer);
                    contentArea.appendChild(section);
                });
            });
        }

        // Show specific content section
        function showContent(sectionId, subSectionId) {
            // Hide welcome section
            document.getElementById('welcome').style.display = 'none';
            
            // Hide all content sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Show selected section
            const targetId = `${sectionId}-${subSectionId}`;
            const targetSection = document.getElementById(targetId);
            if (targetSection) {
                targetSection.style.display = 'block';
            }
            
            // Update navigation active state
            document.querySelectorAll('.sub-nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Find and activate the clicked sub-nav item
            const subMenu = document.getElementById(`sub-${sectionId}`);
            if (subMenu) {
                const subNavItems = subMenu.querySelectorAll('.sub-nav-item');
                const subKeys = Object.keys(contentDatabase[sectionId].subTopics);
                const targetIndex = subKeys.indexOf(subSectionId);
                if (targetIndex >= 0 && subNavItems[targetIndex]) {
                    subNavItems[targetIndex].classList.add('active');
                }
            }
        }

        // Supabase comments setup
        const supabaseUrl = 'https://ydptajhdqhiwjlozqybl.supabase.co';
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlkcHRhamhkcWhpd2psb3pxeWJsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc4MDA2MTUsImV4cCI6MjA3MzM3NjYxNX0.F6ezrGuNC9UfAlb6I9wXgI6wuS1TJvDsC6BHrR5yCHQ';
        const supabaseClient = window.supabase.createClient(supabaseUrl, supabaseKey);

        async function loadComments(threadId) {
            const { data, error } = await supabaseClient
                .from('comments')
                .select('*')
                .eq('thread_id', threadId)
                .order('created_at', { ascending: true });
            if (error) { console.error('Error loading comments', error); return []; }
            return data || [];
        }

        async function postComment(threadId, authorName, content) {
            const { error } = await supabaseClient
                .from('comments')
                .insert({ thread_id: threadId, author_name: authorName || null, content });
            if (error) { throw error; }
        }

        function createCommentElement(c) {
            const el = document.createElement('div');
            el.className = 'comment-item';
            const date = c.created_at ? new Date(c.created_at) : new Date();
            el.innerHTML = `
                <div class="comment-header">
                    <div class="comment-author">${(c.author_name && c.author_name.trim()) ? c.author_name.replace(/[<>]/g,'') : 'Anonymous'}</div>
                    <div class="comment-date">${date.toLocaleString()}</div>
                </div>
                <div class="comment-text"></div>
            `;
            el.querySelector('.comment-text').textContent = c.content || '';
            return el;
        }

        const commentsChannels = {};
        function subscribeToThread(threadId, listEl) {
            if (commentsChannels[threadId]) return;
            const channel = supabaseClient.channel(`comments-${threadId}`)
                .on('postgres_changes', {
                    event: 'INSERT',
                    schema: 'public',
                    table: 'comments',
                    filter: `thread_id=eq.${threadId}`
                }, (payload) => {
                    const c = payload.new;
                    listEl.appendChild(createCommentElement(c));
                })
                .subscribe();
            commentsChannels[threadId] = channel;
        }

        function ensureCommentsUI(section) {
            if (section.querySelector('.comments-section')) return;
            const threadId = section.dataset.threadId || section.id;
            const commentsSection = document.createElement('div');
            commentsSection.className = 'comments-section';
            commentsSection.innerHTML = `
                <div class="comments-title">Comments</div>
                <div class="comments-list"></div>
                <form class="comment-form">
                    <input type="text" class="comment-name" placeholder="Your name (optional)" />
                    <textarea class="comment-input" rows="3" placeholder="Write a comment..."></textarea>
                    <button type="submit" class="comment-submit">Post Comment</button>
                </form>
            `;
            section.appendChild(commentsSection);

            const listEl = commentsSection.querySelector('.comments-list');
            const form = commentsSection.querySelector('.comment-form');
            const nameInput = commentsSection.querySelector('.comment-name');
            const textInput = commentsSection.querySelector('.comment-input');

            // Load existing
            loadComments(threadId).then(comments => {
                comments.forEach(c => listEl.appendChild(createCommentElement(c)));
            });

            // Realtime
            subscribeToThread(threadId, listEl);

            // Handle submit
            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                const name = nameInput.value.trim();
                const text = textInput.value.trim();
                if (!text) return;
                form.querySelector('.comment-submit').disabled = true;
                try {
                    await postComment(threadId, name, text);
                    textInput.value = '';
                } catch (err) {
                    console.error('Failed to post comment', err);
                    alert('Failed to post comment.');
                } finally {
                    form.querySelector('.comment-submit').disabled = false;
                }
            });
        }

        function initCommentsForAllSections() {
            document.querySelectorAll('.content-section').forEach(section => ensureCommentsUI(section));
        }

        // Initialize the website
        document.addEventListener('DOMContentLoaded', function() {
            generateNavigation();
            generateContentSections();
            initCommentsForAllSections();
        });
    </script>
</body>
</html>